<!DOCTYPE html>
<html>
<head>
  <style>
    table {
      border-collapse: collapse;
      width: 100%;
    }
    th, td {
      text-align: left;
      padding: 8px;
    }
    th {
      background-color: #4CAF50;
      color: white;
    }
    tr:nth-child(even) {
      background-color: #f2f2f2;
    }
  </style>
</head>
<body>
  <h2>My Daily Routine</h2>
  <>
    <>
      <>
        <></th>
        <th>Time</th>
        <>Task</th>
        <th>Duration</th>
      </tr>
    </thead>
    <>
      <!-- Add tasks here -->
    </tbody>
  </table>
  
  <script type="module">
    // Tasks data
    const tasks = [
      {time: "10:00 AM", task: "Brush", duration: "10 mins"},
      {time: "10:15 AM", task: "Fruits, bread etc breakfast", duration: "15 mins"},
      {time: "10:30 AM", task: "Cold bath", duration: "15 mins"},
      // Add more tasks here
    ];

    const tbody = document.querySelector("tbody");

    // Add tasks to table
    tasks.forEach((task, index) => {
      const row = document.createElement("tr");
      const checkbox = document.createElement("input");
      checkbox.type = "checkbox";
      checkbox.id = `task${index + 1}`;
      checkbox.addEventListener("change", () => {
        addConfetti(checkbox);
        localStorage.setItem(checkbox.id, checkbox.checked);
      });

      // Load checkbox state from localStorage
      if (localStorage.getItem(checkbox.id) === "true") {
        checkbox.checked = true;
      }

      const taskCell = document.createElement("td");
      taskCell.appendChild(checkbox);
      row.appendChild(taskCell);

      row.innerHTML += `
        <td>${task.time}</td>
        <td>${task.task}</td>
        <>${task.duration}</td>
      `;

      tbody.appendChild(row);
    });

    import confetti from 'https://cdn.skypack.dev/canvas-confetti';

    function addConfetti(checkbox) {
      if (checkbox.checked) {
        confetti({ zIndex: 10000 });
        console.log("Confetti!");
      }
    }
  </script>
</body>
</html>
